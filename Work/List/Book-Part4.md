<!-- markdownlint-disable-file MD033 -->

# 第四部分：先进技术和与他人共享 <div id="page_230"></div>

本节演示了各种高级可视化和技术，并以与他人共享数据故事的选项作为结束。

本节包括以下章节：

- [第11章](docs/Book.md#page_231)，*高级可视化，技术，技巧和窍门*
- [第12章](docs/Book.md#page_255)，*共享数据故事*

## 第十一章 高级可视化，技巧，技巧和窍门 <div id="page_231"></div>

通过对基本原理有深入的了解，可以使用Tableau突破极限。除了探索，发现，分析和交流数据外，Tableau社区的成员还使用该软件来创建和完成令人惊奇的事情，例如模拟一个谜机，玩井字游戏或战舰，仅用两个就可以生成分形数据记录，还有更多！在业务环境中创建任何如此复杂的内容都不会感到压力，但是知道Tableau确实是一块空白画布总是很高兴的。唯一的限制是您的创造力和想象力。

在本章中，我们将在实际环境中介绍一些高级技术。您将学习诸如创建高级可视化，使用自定义图像动态交换仪表板上的视图，使用高级地理可视化等内容。本章的目的不是提供每种可能技术的完整列表。取而代之的是，我们将看几个不同的示例，这些示例演示了一些可能性。许多示例旨在扩展您的知识并挑战您。

我们将在本章中介绍以下高级技术：

- 高级可视化
- 图纸交换和动态仪表板
- 先进的制图技术
- 使用背景图片
- 动画
- 透明度

### 高级可视化 <div id="page_232"></div>

我们观察了一下在[第3章](docs/Book.md#page_70)， *冒险到高级可视化*，在一些基本的可视化变体，如柱状图，时间序列，分布和散点图。现在，我们将考虑一些非标准的可视化类型。这些只是Tableau惊人的灵活性的示例，旨在激发您通过查看，理解和交流数据的新方式进行思考。这些不是为了复杂而设计成复杂的图表，而是激发创意和兴趣以有效地传达数据。

使用提供的Superstore数据创建以下每个可视化文件。除了提供分步说明之外，我们将指出用于创建每种图表类型的特定高级技术。目的不是要记住步骤，而是要了解如何创造性地利用Tableau的功能。

您可以在Chapter 11 Complete工作簿中找到完整的示例，或者通过使用Chapter 11 Starter 工作簿从头开始构建所有内容来测试您不断发展的Tableau技能。

#### 坡度图 <div id="page_233"></div>

斜率图显示值从一个期间或状态到另一期间或状态的变化。例如，下面的坡度图显示了**2016年**至**2017年****南部**地区每个州的销售排名变化：

![img](../images/Image%20[297].jpg)

以下是用于创建上述坡度图的一些功能和技术：

- 表格计算Rank(Sum(Sales))是通过State来寻址的（状态），这意味着每个州都在单个Year的分区内排名。
- 网格线和零线的行已设置为无。
- 轴已反转（右键单击轴并选择Edit，然后选中要反转的选项）。这使等级**1**出现在顶部，而等级3则以降序出现。
- 该轴已隐藏（右键单击该轴，然后取消选中Show Header）。
- 标签已被编辑（通过单击Label）以显示在行的两端，垂直居中以及将等级号放置在状态名称旁边。
- 该年度列标题已经从视图的底部到顶部移动（从顶部的菜单中，选择分析 | 表布局 | 先进，并取消选项，以显示在底部最里面的级别）。
- 一个**数据标注**已添加（使用上下拉**状态**的视野中，选择显示荧光笔）给最终用户的能力突出一个或多个状态。

*数据突出显示功能使用户能够通过从下拉列表中选择值或通过键入来突出显示视图中的标记（值的任何部分上的任何匹配项都将突出显示该标记；因此，例如，键入**Carolina**将突出显示***北卡罗来纳州***和***上图中的南卡罗来纳州***）。* *数据突出显示可以显示为您在视图中用作离散（蓝色）的任何字段，并且只要在这些视图中使用了相同的字段，它们就会在仪表板的多个视图中起作用。*

斜率图可以使用绝对值（例如的实际值Sales）或相对值（例如Sales本示例中所示的的等级）。如果要显示超过2年的时间来观察多个时间段内排名的变化，则所得到的可视化效果可以称为**凹凸图表**，如下所示：

![img](../images/Image%20[298].jpg)

#### 棒棒糖图表 <div id="page_234"></div>

甲**棒棒糖图表**是非常相似的条形图，但是通常使用在一个圆圈结束较细的线。这允许一些样式上的兴趣以及显示值或其他标签的位置。这里，例如，是一个**棒棒糖图表**用于销售的类别在技术部门：

![img](../images/Image%20[299].jpg)

用于创建此图表的功能和技术包括：

- 甲*同步* **双轴**用于SUM(Sales)与一个标记类型设置为**酒吧**和其他标记类型设定为**圆**。
- 条形和圆形的大小已调整（单击“ 标记”卡上的“ 大小 ” ）。条形图已设置为非常细，而圆圈大到足以容纳标签。
- 销售  已添加到圈子的标签中，并使用自定义货币进行了格式化。
- 轴已隐藏（右键单击并取消选中Show Header）。
- 网格线已隐藏（使用从菜单Format | Lines打开的格式选项）。

您可以尝试一些变体，例如：

- 交换行和列以翻转方向
- 排序**类别**
- 使用颜色或高亮显示某些值

#### 瀑布图 <div id="page_235"></div>

一个**瀑布图**，当你想展示如何零部件先后建立一个整体是非常有用的。在下面的截图，例如，是一个**瀑布图**显示利润横跨如何累积达到总计Departments和Categories产品。有时利润为负，因此，**瀑布图**会有所下降，而正值会朝着总值累积：

![img](../images/Image%20[300].jpg)

以下是用于构建图表的功能和技术：

- “ 行 ”上的SUM(Profit)字段是“ 运行总计”表计算（使用下拉菜单中的“ 快速表计算” 创建），并在整个表中进行计算。
- 已将“ 行总计”添加到视图中（从 “ 分析”窗格中拖放并拖放）。
- 标记类型设置为“ 甘特栏”，并使用代码临时计算SUM(Profit)。这允许将甘特图条向上一个标记的结尾处向下拉（或向上拉以获取负利润）。
- Category已排序升序由总和的利润，这样的瀑布图建立缓慢（或负）在左侧每个Department。您可能要尝试使用排序选项来发现对演示文稿的影响。

#### 步线和跳线 <div id="page_236"></div>

当您要显示随时间变化的离散变化时，通常使用步进线是很有用的，这与标准折线图不同，在标准折线图中，斜线可能意味着逐渐变化。例如，在任何给定时间运行的发电机数量是一个离散的整数，您可能希望通过“ **步线**图” 来强调这一事实。

在以下示例中，我们采用了先前通过**瀑布图**演示的利润积累，并使用“分**步线”**显示了每个连续的利润步骤：

![img](../images/Image%20[301].jpg)

总体而言，“ **阶梯线”**图表非常易于创建。只需单击“ 路径”架子，然后 从“ **线型”中**选择“ **步线”**，如以下屏幕截图所示。请注意，您还可以选择线性和**跳跃线**：

![img](../images/Image%20[302].jpg)

**线性**是默认值：强调值之间移动的斜线。当您要显示表示在跳转到另一个状态之前的给定时间段内可能存在的特定状态的值时，**跳转行** 很有用。例如，您可能希望显示一段时间内陈列室地板上有多少种产品，或者每天有多少张病床。

#### 火花线 <div id="page_237"></div>

**“火花线”**是指使用多个细线图的可视化效果，这些线图旨在快速读取和比较。Spark Lines的目标是使可视化效果一目了然。您并不是要传达确切的价值，而是要让观众能够快速了解趋势，运动和模式。

在这种类型的可视化的各种用法中，您可能已经看到金融出版物中使用了“ **火花线** ”来比较股票价格的变动。回想一下，在[第1章](docs/Book.md#page_21)，*以砍掉的Tableau*，我们认为是的初始启动**星火线**可视化，因为我们看线图的迭代。这是一个更加完善的示例：

![img](../images/Image%20[303].jpg)

该图表是使用以下功能和技术构建的：

- 开始的简单视图Sum(Sales)通过Quarter的Order Date（作为date与值）Category上的行。
- 已创建两个计算字段，以显示每个类别的最小和最大季度销售额。Min Sales有代码WINDOW_MIN(SUM(Sales))，Max Sales也有代码WINDOW_MAX(SUM(Sales))。两者都已作为离散（蓝色）字段添加到“ 行”中。
- 已将带有代码的Last Sales计算IF LAST() == 0 THEN SUM([Sales]) END放置在Rows上，并使用带有圆圈标记类型的*同步*双轴来强调每个时间轴的最终销售价值。
- 该轴SUM(Sales)被编辑成具有为每一行或列的独立轴范围和轴都被隐藏。这样可以强调线条的移动。请记住：目标不是显示确切的值，而是让观众看到模式和动作。
- 网格线已为Rows隐藏。
- 视图已调整大小（水平压缩并设置为Fit Height）。这样可以使火花线适合较小的空间，从而有助于快速了解样式和运动。

#### 哑铃图 <div id="page_238"></div>

甲**哑铃图表**是，对数据的每一切片比较两个值，强调这两个值之间的距离的圆的情节的变化。

例如，以下图表显示了Difference in Profit between East and West每种Category产品的区域：

![img](../images/Image%20[304].jpg)

该图表是使用以下功能和技术构建的：

- 甲*同步*的双轴SUM(Profit)已被用于使用一组标记的类型圈，而另一组，以线。
- Region已将其放置在该路径的“路径”架子上，以告诉Tableau在两者之间画一条线Regions。

*该***路径***货架适用于***线***和***多边形***标记类型。**当您将一个字段上的**P* *ATH**架子，它告诉的Tableau的顺序连接点（以下放置在球场上的排序顺序**路径**）。**路径通常与地理可视化结合使用，以连接路线上的起点和目的地，但也可以与其他可视化类型一起使用。*

- Region放置在“ 颜色 ”上作为圆形标记类型。

#### 单位图/符号图 <div id="page_239"></div>

甲**单元图表**可用于显示各个项目，通常使用的形状或符号来表示每个个体。这些图表可以引起强烈的情感反应，因为数据的表示方式不太抽象，更容易识别为*真实*事物。例如，以下图表显示了每个客户有多少客户延迟发货Region：

![img](../images/Image%20[305].jpg)

该视图是使用以下技术创建的：

- 过滤的视图，其中Late Shipping是True。Late Shipping是一个计算字段，用于确定是否花费了超过14几天的时间进行发货和订购。代码如下：

DATEDIFF（'day'，[订购日期]，[发货日期]）> 14

- 区域按客户ID的不重复计数降序排列。
- 客户ID已放置在“ 详细信息”上，因此每个不同的客户都有一个标记。
- 标记类型已更改为“ 形状”，并且形状已更改为“ 性别”形状调色板中包含的人形。要更改形状，请单击“ 形状”架子并选择所需的形状，如以下屏幕截图所示：

![img](../images/Image%20[306].jpg)

当轻轻地提醒他们糟糕的客户服务会影响真实的人时，前面的单元图可能会比标准条形图引起更多的区域经理响应。当然，形状仍然是抽象的，但更能代表实际的人。您也可以考虑使用客户名称标记商标，或使用其他方法进一步吸引受众。

*请记住，通常在Tableau中，会为尺寸值的每个不同交点绘制一个标记。**因此，很难为单行数据（例如仅包含一个字段的值10）绘制10个单独的形状。**这意味着您将需要考虑数据的形状，并包括足够的行以绘制要表示的单位。*

在任何形式的可视化中，混凝土形状也可以大大减少理解数据所需的时间。对比在这两个散点图中识别部门所需的工作量：

![img](../images/Image%20[307].jpg)

一旦知道了形状的含义，就不再需要引用图例。

在“ 形状”架子上放置离散字段，可以将形状分配给字段的各个值。

*形状是位于**My Tableau Repository\Shapes**目录**中的图像**。**您可以在该目录的子文件夹中包含自己的自定义形状。*

#### Marimekko图表 <div id="page_240"></div>

甲**Marimekko的图表**（有时也被称为**美康图表**）类似于堆积条形图，但另外使用条的宽度变化进行通信有关数据的附加信息。例如，这里是一个**Marimekko图表，**显示了按地区和部门划分的销售明细。条形图的宽度传达了该**地区**的总销售额，而每个细分的高度则为您提供了该地区内部门的销售额百分比：

![img](../images/Image%20[308].jpg)

在Tableau中创建Marimekko图表利用了根据轴单位固定条形宽度的功能。

*当“连续”（绿色）字段位于“* *列”**（因此定义水平轴）并且标记类型设置为“* *条形”**时，**单击“* *大小”**架子，将* *显示固定大小的选项。**您可以手动输入“* *大小**和**对齐方式”，**也可以**在“* *大小”功能**区上放置一个字段**来更改条形的宽度。*

以下是一些详细信息：

- 标记类型已专门设置为Bar。
- Region 并 Department分别放置在Color和Detail上。它们是视图中唯一的尺寸，因此它们定义了**视图的详细程度**。
- Sales已放置在“ 行”上，并应用了Percent of Total快速表计算。已将“ 计算使用（寻址）”设置为，Department以便我们在的分区中获得每个部门的销售百分比Region。
- 计算字段Sales for Region计算每个条形图右侧位置的*x*轴位置。代码如下：

如果FIRST（）= 0

THEN MIN（{EXCLUDE [部门]：SUM（销售）}）

ELSEIF LOOKUP（MIN（[Region]），-1）<> MIN（[Region]）

THEN PREVIOUS_VALUE（0）+ MIN（{EXCLUDE [部门]：SUM（销售）}）

其他

PREVIOUS_VALUE（0）

结束

尽管此代码乍看之下令人生畏，但它遵循逻辑上的进展。具体来说，如果这是第一个条形图，我们将要知道Sales整个区域的总和（这就是为什么我们以内Department联详细级别计算将其排除在外）。当计算移至新的时Region，我们需要将先前的Region总数添加到新的Region总数中。否则，计算是针对同一内的另一个细分Region，因此区域总数与上一个细分相同。

最后，对该视图进行了一些其他调整：

- “ 大小 ”字段是带有代码的临时详细信息计算级别{EXCLUDE [Department] : SUM(Sales)}。正如我们前面提到的，这排除Department并允许我们获得一定Region水平的销售额。这意味着，根据给定的总销售额，每个条形的大小都将确定Region。
- 单击“ 大小”架子可提供将条形的“ 对齐 ” 设置为“ 右”的选项。由于前面的计算给出了条形图的正确位置，因此我们需要确保从该起点绘制条形图。
- 各种字段已复制到“ 标签”架子，以便每个条形图段都更清楚地向查看者传达含义。

*要将标签添加到每一**Region* *列，您可以考虑创建第二个视图，并将两者都放置在仪表板上。**或者，您可以使用注释。*

除了允许您创建Marimekko图表外，还可以控制轴单位中的条形尺寸，从而为创建其他可视化效果提供了各种可能性，例如级联图或阶梯状面积图。该技术与此处使用的技术相似。您还可以将大小调整功能与**连续的**合并**箱结合**使用（使用下拉菜单将视图中的合并**箱**字段从离散更改为连续）。这样可以使直方图在条形之间没有大的间距。

*有关* *Marimekko图表**的更全面讨论**以及适用于稀疏数据的方法，请参阅Jonathan Drummey的博客文章，*[网址](https://www.tableau.com/about/blog/2016/8/how-build-marimekko-chart-tableau-58153)*为**：*[https](https://www.tableau.com/about/blog/2016/8/how-build-marimekko-chart-tableau-58153) *:* *//www.tableau.com/about/blog/2016/8/how-build-marimekko-chart* [-tableau-58153](https://www.tableau.com/about/blog/2016/8/how-build-marimekko-chart-tableau-58153)*。*

### 图纸交换和动态仪表板 <div id="page_241"></div>

**工作表交换**（有时也称为工作**表选择**）是一种在视图上动态显示和隐藏视图的技术，通常以将一个视图交换为另一个视图的形式出现。在仪表板上动态隐藏和显示视图的应用更加广泛。与浮动对象和布局容器结合使用时，此技术可让您创建丰富且动态的仪表板。

基本原理很简单：

- 当**行**或**列**上至少有一个字段且过滤器或隐藏的组合阻止呈现任何标记时，视图在仪表板上崩溃
- 标题和标题不会折叠，但可以隐藏，以便视图完全折叠

让我们考虑用表示利润视图一个简单的例子Department，并Category有Department快速的过滤器。仪表板已格式化（从菜单中选择Format | Dashboard），带有灰色阴影以帮助我们查看效果：

![img](../images/Image%20[309].jpg)

观察过滤掉所有部门如何导致视图崩溃。标题仍然保留，但可能已隐藏。

为了交换两个不同的图纸，我们仅利用折叠行为以及布局容器的属性。我们将从创建两个通过 参数和计算字段过滤的不同视图开始。该参数将使我们能够确定显示哪个工作表。执行以下步骤：

1. 创建一个整数参数Show Sheet，该参数的字符串值列表设置为Bar Chart和Map：

![img](../images/Image%20[310].jpg)

1. 由于我们要基于参数选择进行过滤，并且不能将参数直接添加到“ **过滤器”功能区**，因此，我们将创建一个计算字段Show Sheet Filter，该字段名为返回参数的选定值。代码简单地是[Show Sheet]，它是参数名称，并返回参数的当前值。
2. 创建一个名为的新工作表Bar Chart，类似于之前的屏幕快照中的Profit by Departmentand Category视图。
3. 显示参数控件（在数据窗口中右键单击该参数，然后选择Show Parameter Control）。确保选择了“ 条形图”选项。
4. 将“ 显示图纸过滤器”字段添加到“ 过滤器”架子，然后选中“ 条形图”以保留该值。
5. 创建另一个名为工作表Map，显示按利润填充的州地图：

![img](../images/Image%20[311].jpg)

1. 在此视图上显示参数，并将选择更改为Map。请记住，参数选择对于工作表是通用的。如果要切换回条形图视图，则由于使用了过滤器，它不应再显示任何数据。
2. 添加显示表过滤领域的过滤器架，并检查地图，以保持该值。
3. 创建一个名为的新仪表板Sheet Swap。
4. 从左侧窗口中的对象向仪表板添加“ **水平”**布局容器：

![img](../images/Image%20[312].jpg)

*一个***垂直***布局容器将在这种情况下很好的工作。**关键在于，当视图设置为适合整个视图，或适合宽度（对于水平容器）或适合高度（对于垂直容器）时，布局容器将允许每个内部视图展开以填充该容器。**当一个视图折叠时，可见视图将扩大以填充容器的其余部分。*

1. 将每个工作表添加到仪表板中的布局容器。参数控件应该自动添加，因为它在每个视图中都是可见的。
2. 使用“ 条形图”视图上的下拉菜单，确保将视图设置为填充容器（“ 适合” |“ 整个视图”）。您无需设置地图的填充，因为地图可视化会自动填充容器。
3. 隐藏每个视图的标题（右键单击标题，然后选择“ 隐藏标题”）。

现在，您有了一个仪表板，在该仪表板上更改参数将导致显示一个视图或另一个视图。当地图选择，筛选结果中没有数据的条形图，所以它崩溃和 地图填充容器：

![img](../images/Image%20[313].jpg)

或者，选择“ 条形图”时，由于过滤器，“ 地图”折叠，并且“ 条形图”填充了容器：

![img](../images/Image%20[314].jpg)

*折叠视图的关键是要有一个过滤器或一组过滤器，以确保不显示任何数据行。**您不必使用参数来控制过滤。**您可以使用常规过滤器或动作过滤器来达到相同的效果。**这为仪表板中的动态行为打开了各种可能性。*

#### 动态显示和隐藏其他控件 <div id="page_242"></div>

过滤掉所有数据后，视图将折叠。但是，其他控件（如快速过滤器，参数，图像，图例和文本框）将不会折叠，并且无法动态显示或隐藏。但是，通常在动态仪表板中，您可能想要显示或隐藏这些对象。有时，在进行其他选择时，参数不适用。看上一节中的简单示例。Tableau自动将其添加到仪表板的颜色图例适用于地图。但是当显示条形图时，图例不再适用。

幸运的是，我们可以扩展在上一节中使用的技术，以扩展视图以将要显示的项目从浮动对象下推入，然后折叠视图以允许我们要隐藏的项目返回到以下位置。漂浮物。

让我们扩展前面的工作表交换示例，以显示如何显示和隐藏颜色图例：

1. 创建一个名为Show / Hide Legend的新表。此视图仅用于显示和隐藏颜色图例。
2. 双击Rows并输入，创建一个临时计算MIN(1)。我们必须在“ 行”或“ 列”上有一个字段才能使视图折叠，因此我们将使用该字段为行提供一个单轴，为列提供一个单轴而没有其他标题。
3. 复制Columns的ad hoc计算。您现在应该有一个带有一个标记的简单散点图。
4. 因为这是一个帮助表，而不是我们希望用户看到的任何内容，所以我们不希望它显示任何标记或线条。使用格式 | 格式化视图 行删除网格线的行和列，沿轴标尺。此外，隐藏轴（右键单击每个轴或字段，然后取消选中“ 显示标题”）。另外，将“ 颜色”设置为完全透明以隐藏标记。
5. 我们将希望在选择Map选项时显示此视图，因此显示参数控件并确保将其设置为Map，然后将Show Sheet Filter添加到过滤器并选中Map：

![img](../images/Image%20[315].jpg)

1. 在“ 图纸 交换仪表板”上，将“ 显示/隐藏图例”表添加到“ 显示表”参数下拉列表和颜色图例之间的**布局容器中**。隐藏“ 显示/隐藏图例”工作表的标题。
2. 确保选择了地图。颜色图例应一直推到底。
3. 将布局容器添加为浮动对象。调整大小和位置，使其完全覆盖以前颜色图例的区域。它应覆盖“ 显示/隐藏图例”工作表的标题，但不覆盖参数下拉列表。

*可以通过以下方式将对象和图纸添加为浮动对象：**拖动时**按住**Shift键**，将“* *新建对象”**选项**设置为**“* *浮动”**，或使用对象上的下拉菜单。**您还可以**在仪表板窗格中将**新对象的默认行为从“* *平铺”**更改为“* *浮动* *”。*

1. 该布局容器是默认透明的，但我们希望它隐藏的是下面。使用下拉菜单设置**布局容器的**格式，并添加白色阴影，以使其与背景无法区分。

此时，您将拥有一个动态的仪表板，在其中显示图例时会显示图例，在条形图可见时它会适用并隐藏。当地图被选择时，显示/隐藏图例片被示出并且推动图例至底部**布局容器**：

![img](../images/Image%20[316].jpg)

当条形图被选择时，显示/隐藏图例片折叠和图例，这是不再适用于视图中，在后面的/隐藏落入**浮动布局容器**：

![img](../images/Image%20[317].jpg)

您可以在仪表板上使用的此技术有多少种形式没有限制。您可以根据需要设置任意多个图层。您甚至可以结合使用这些技术来在仪表板上打开和关闭视图和对象。创建丰富的交互式用户体验的可能性令人难以置信。

### 映射技术 <div id="page_243"></div>

我们在整本书中都谈到了地理可视化。您已经看到了符号图和填充图。在这里，我们将介绍提供您自己的地理编码数据以及创建自定义地区。

#### 补充地理数据标准 <div id="page_244"></div>

我们在看到[第1章](docs/Book.md#page_21)， *以砍掉的Tableau*，那产生的Tableau  纬度和经度字段时数据源中包含地理字段画面可以用它的内部地理数据库匹配。Tableau的内部地理环境包含国家，州，邮政编码，MSA和国会区等字段。随着Tableau继续添加地理功能，您将需要查阅文档以确定内部数据库所包含内容的详细信息。

但是，如果数据集中具有经度或纬度，或者可以用该数据补充数据源，则可以非常精确地创建地理可视化。提供供Tableau使用的纬度和经度有几种选择：

- 在数据源中包含Latitude和Longitude作为字段。如果可能的话，这个选项会提供最简单的方法来创建自定义地理可视化，因为你可以简单地Latitude对行  和Longitude在列获得地理情节。
- Latitude 使用IF / THEN逻辑或case语句根据数据中的其他值分配Latitude 和Longitude值，为经度创建一个计算字段，为经度创建另一个字段。这在许多地方也将是乏味且难以维护的。
- 导入自定义地理文件。在菜单中，选择地图 | 地理编码 | 导入自定义地理编码...。导入对话框包含指向文档的链接，该文档进一步详细描述了该选项。

- 连接到包含纬度和经度的数据作为辅助数据源，并使用跨数据库联接或数据混合来实现地理可视化。例如，以下是通过加入一个文件创建的可视化文件，该文件包含每个地址的确切纬度和经度：

![img](../images/Image%20[318].jpg)

- 一个字段中指定的地理角色，并指定无法识别的值，以期望Latitude 和Longitude位置。此选项最常用于校正标准地理字段中无法识别的位置，例如城市或邮政编码，但也可以用于创建自定义地理位置，尽管在多个位置进行维护很繁琐且困难。您可以分配未知的地理位置，如下节所述。

#### 手动分配地理位置 <div id="page_245"></div>

通过单击地理可视化效果右下角的未知指示器来分配未知位置，如下所示：

![img](../images/Image%20[319].jpg)

这将为您提供以下选项：

- 编辑位置
- 筛选出未知位置
- 剧情在默认位置（Latitude 和Longitude的**0**，即有时幽默被称为位置**空岛**，刚好位于西海岸**非洲**）。

上一个屏幕截图中的指示器显示336个未知位置。单击指示器并选择“ 编辑位置”选项，可以通过选择已知位置或输入自己的**纬度** 和**经度**信息来更正不匹配的位置，如下所示：

![img](../images/Image%20[320].jpg)

前三个选项允许您指定地理环境，Tableau通过该地理环境确定字段值的位置。您可以指定国家，州和/或县。

例如，画面可能无法识别该城市**曼斯菲尔德**，直到您指定的国家（在美国合众国就有一个**曼斯菲尔德**，**得克萨斯州**，**曼斯菲尔德**，**俄亥俄州**，**曼斯菲尔德**，**堪萨斯州**和十几更多！）在这个例子中，你可以具体选择一个常量State或让Tableau知道数据集中定义State的字段。

您还可以通过单击表格中的“ 无法识别”标签并匹配到已知位置来设置各个位置，或者通过输入特定的Latitude和来设置各个位置Longitude。

#### 创建自定义地区 <div id="page_246"></div>

**自定义地区**是您创建（或数据定义）的地理区域或地区，而不是内置的地理区域或地区（例如国家或地区代码）。Tableau为您提供了两个用于创建自定义地区的选项：

- 特殊的自定义地区
- 字段定义的自定义地区

##### 特殊的自定义地区 <div id="page_247"></div>

您可以通过在地图上选择和分组标记来临时创建自定义地区。只需选择一个或多个标记，将鼠标悬停在一个标记上，然后使用“ **组”**图标即可。或者，右键单击标记之一以找到选项。如果您在数据中具有经度和纬度，则可以按任何维度分组来创建自定义地区，如果使用Tableau生成的纬度和经度，则可以通过地理维度进行分组。在这里，我们将考虑一个使用邮政编码的示例：

![img](../images/Image%20[321].jpg)

您会注意到，在此示例中，Tableau创建了一个新字段，邮政编码（组）。新字段在数据窗格中具有一个回形针和地球图标，表明它是一个组和一个地理字段。Tableau会自动在颜色上包括组字段。

您可以继续选择标记并对其进行分组，直到拥有所需的所有自定义地区。在邮政编码仍是详细视图级别的一部分的情况下，您将在每个**邮政编码上**都有一个标记（并且所有度量都将通过**邮政编码**进行切片）。但是，当您从视图中删除邮政编码时，仅保留邮政编码（组）字段，Tableau将基于新组绘制标记：

![img](../images/Image%20[322].jpg)

在这里，组字段已重命名为“ 自定义领地”，并且组名已别名为East，West和Central。

*使用填充的地图，Tableau将连接所有连续的区域，并且仍然包括未连接的区域作为选择和突出显示的一部分。**借助符号地图，Tableau将在所有分组区域的地理中心绘制标记。*

##### 字段定义的自定义地区 <div id="page_248"></div>

有时，您的数据包括自定义地区的定义。例如，假设您的数据有一个名为的字段Region ，该字段已将邮政编码分组为各个区域。即，每个邮政编码仅包含在一个区域中。您可能不想花时间选择标记并对其进行手动分组。

相反，您可以告诉Tableau数据中已经存在该关系。在此示例中，您将使用Region数据窗格中字段的下拉菜单，然后选择“ 地理角色 | 地理角色”。创建从... | 邮编。Region现在是定义自定义地区的地理字段：

![img](../images/Image%20[323].jpg)

*使用临时自定义区域来执行快速分析，但是考虑将字段定义的自定义区域用于长期解决方案，因为这样您便可以在无需手动编辑Tableau数据源中的任何组的情况下重新定义数据中的区域。*

#### 利用空间对象 <div id="page_249"></div>

空间对象定义的地理区域可以像点一样简单，也可以像多面多边形一样复杂。这使您可以渲染从自定义贸易区到河流，道路以及县和国家/地区的历史边界的所有内容。空间对象可以存储在空间文件中，并且也受某些关系数据库的支持。

Tableau支持多种空间文件格式，例如ESRI，MapInfo，KML，GeoJSON和TopoJSON。此外，您可以直接连接到ESRI数据库以及具有地理空间支持的关系数据库，例如SQL Server。如果创建提取，则空间对象将包含在提取中。

许多应用程序（例如Alteryx，Google Earth和ArcGIS）可用于生成空间文件。空间文件也很容易从许多组织下载。在地理空间分析方面，这为您提供了很大的灵活性。

例如，下面是美国铁路地图：

![img](../images/Image%20[324].jpg)

要复制此示例，请从此处下载Shapefile：[https](https://catalog.data.gov/dataset/tiger-line-shapefile-2015-nation-u-s-rails-national-shapefile) : [//catalog.data.gov/dataset/tiger-line-shapefile-2015-nation-us-rails-national-shapefile](https://catalog.data.gov/dataset/tiger-line-shapefile-2015-nation-u-s-rails-national-shapefile)。

下载并解压缩文件后，请连接到该tl_2015_us_rails.shp文件。在预览中，您将看到带有ID字段和铁路名称的数据记录。的几何字段是定义铁路段的直线形状的空间对象：

![img](../images/Image%20[325].jpg)

在空白纸上，只需双击几何字段。Tableau将在详细信息中包括地理收集，并引入自动生成的纬度和经度字段以完成渲染。尝试在细节中包括ID字段，并基于Fullname进行过滤。

*考虑使用跨数据库联接以使用自定义空间数据补充现有数据。**此外，Tableau支持空间联接，即使没有其他关系，也可以将空间上仅相关的数据组合在一起。*

#### 最后的地图提示 <div id="page_250"></div>

有许多方法可以自定义地理可视化效果，并且需要注意一些选项。首先，您可能会注意到将鼠标悬停在地图上时出现的控件：

![img](../images/Image%20[326].jpg)

这些控件使您可以搜索地图，放大和缩小，将地图固定到当前位置以及使用各种类型的选择。

选择“ 地图” |“ 其他”时，将显示其他选项。顶部菜单中的“ 地图选项 ”：

![img](../images/Image%20[327].jpg)

这些选项使您能够设置允许最终用户执行哪些地图操作以及是否显示比例尺。此外，您可以设置比例尺和**径向选择的**显示单位。选项包括自动（基于系统配置），公制（米和公里）和美国（英尺和英里）。

使用地理可视化时，还需要考虑其他一些技巧：

- 使用顶部菜单选择地图 | “地图图层”提供了许多选项，可用于显示背景的哪些图层作为地图的一部分。
- 其他缩放选项包括使用鼠标滚轮，双击，*Shift* + *Alt* +单击和*Shift* + *Alt* + *Ctrl* +单击。
- 您可以单击并按住几秒钟以切换到平移模式。
- 您可以通过右键单击地图并选择适当的选项来显示或隐藏缩放控件和/或地图搜索。
- 缩放控件可以显示在使用轴的任何可视化类型上。
- 缩放控件上的图钉交替将地图恢复为最适合可见数据的状态，或锁定当前的缩放和位置。
- 您可以通过复制（创建双轴地图*按Ctrl*要么+拖/放）Latitude在列或Longitude对行，然后使用该字段的下拉菜单中选择双轴。您可以使用此技术在单个地图上组合多种标记类型：

![img](../images/Image%20[328].jpg)

- 使用填充的地图时，请考虑在“ 地图图层”窗口中将“ 冲洗”设置为100％，以获取外观清晰的地图。但是，只会显示填充的形状，因此不会绘制任何缺失的州（或县，国家和其他州）：

![img](../images/Image%20[329].jpg)

- 您可以使用菜单并选择地图 | 来更改背景地图图像图块的来源。背景图。这样，您就可以在“ 无”，“ 脱机”（当您没有Internet连接，但限于显示的详细信息时很有用）或Tableau（默认值）之间进行选择。
- 此外，从同一菜单选项，您可以指定Map Services ...以使用**WMS服务器**或**Mapbox**。

### 使用背景图片 <div id="page_251"></div>

背景图像使您可以在任何图像之上绘制数据。考虑可能性！您可以按体育场图像上的座位，办公楼平面图上的房间占用，网络图上每个设备的错误数量或流星对月球表面的影响来绘制门票销售情况。

在此示例中，我们将绘制医院各个房间每月的患者人数。我们将使用医院平面图和二楼的两个平面图图像。数据源位于Chapter 11目录中，名为Hospital.xlsx。它由两个选项卡组成：一个选项卡用于患者计数，另一个选项卡基于映射到图像的*x* / *y*坐标用于房间位置。我们将尽快考虑其工作原理。您可以在Chapter 11 Complete.twbx工作簿中查看完整的示例，也可以使用从头开始Chapter 11 Starter.twbx。

要指定背景图片，请使用顶部菜单选择地图 | 单击背景图像，然后单击图像所适用的数据源（在本示例中为Hospitals）。在“ 背景图像 ”屏幕上，您可以添加一个或多个图像。

在这里，我们从Hospital - Ground Floor.png位于Chapter 11目录中的开始，

![img](../images/Image%20[330].jpg)

你会发现，我们映射域X和Y ^（从位置选项卡）和规定的权利在800和底部在700。这基于图像的大小（以像素为单位）。

*您不必使用像素，但是在大多数情况下，它可以更轻松地映射数据位置。**在这种情况下，我们有一个Excel文件的选项卡，其位置已经映射到**图像上的**X**和**Y**坐标（以像素为单位）。**使用跨数据库联接，您可以创建一个简单的文本或Excel文件，其中包含图像映射，并将它们映射到现有数据源。**您可以手动绘制点（使用图形应用程序），也可以使用许多免费的在线工具之一，这些工具可以快速在图像上绘制坐标。*

我们只想显示此底层的蓝图，因此切换到“ 选项”选项卡，我们将确保根据数据设置条件。我们还将确保选中“ 始终显示整个图像”：

![img](../images/Image%20[331].jpg)

接下来，重复前面的步骤，我们将第二个图像（Hospital - 2nd Floor.png）添加到数据源，确保仅显示2nd Floor。

定义并映射图像后，就可以建立可视化了。基本思想是使用X和Y字段来创建散点图。但是，我们必须确保X，并Y没有因为总结，如果它们是为多个记录加在一起，我们将不再有正确的映射到像素位置。有两种选择：

- 使用X和Y作为连续尺寸。
- 使用MIN，MAX或AVG代替SUM，并确保Location用于定义视图的详细程度。
- 此外，图像从顶部的**0**Y到底部进行测量，但散点图从底部的**0**开始并且值向上增加。因此，最初，您可能会看到背景图像上下颠倒。为了解决这个问题，我们将编辑*y*轴（右键单击并选择Edit Axis），然后选中Reversed选项。

我们还需要确保在视图中使用了地板字段。告诉Tableau应该显示哪个图像是必要的。在这一点上，我们应该能够得到这样的可视化效果：

![img](../images/Image%20[332].jpg)

在这里，我们根据每个房间的患者人数绘制了带有大小的圆圈。我们可以通过多种方式清理和修改可视化文件：

- 隐藏*x*和*y*轴（右键单击该轴，然后取消选中Show Header）
- 隐藏的标题Floor，因为图像已包含标签
- 添加Floor到“ 过滤器”架子上，以便最终用户可以选择一次查看一个楼层

### 动画 <div id="page_252"></div>

**动画可视化**可以通过揭示随时间推移发生的模式或强调戏剧性事件而使数据讲故事栩栩如生。在“ 页面”架子中添加一个字段将显示播放控件，使您可以分页浏览该字段的每个值。您可以手动执行此操作，也可以单击“ **播放”**按钮以观看可视化效果，因为值会自动更改。

该Chapter 11 Completed工作簿包含一个示例，可以对前面显示的医院平面图进行动画处理。您可以通过将Month字段添加到Pages架子（作为月**日期值**）来创建相同的效果。然后观察圆圈逐月变化的大小。

尝试使用“ 显示历史记录”选项，以查看如何查看上一页的标记。

*当您在仪表板上使用多个视图时，每个视图在“* *页面”**架子**上具有相同的字段组合**，您可以同步播放控件（使用播放控件上的插入符号下拉菜单）以创建完全动画的仪表板。*

可以与Tableau Desktop或Tableau Reader的其他用户共享动画。在撰写本文时，自动播放控件不适用于Tableau Server，Tableau Online或Tableau Public。但是，最终用户可以手动分页显示这些值。

### 透明度 <div id="page_253"></div>

在较新版本的Tableau中，您可以为仪表板上使用的可视化设置透明度。这可以实现各种创新方法，例如将可视化效果彼此叠加或覆盖背景图像。

您将在Chapter 11 Complete工作簿中找到以下示例：

![img](../images/Image%20[333].jpg)

仪表板由图像，图像上的透明图表和标题组成。

为了使可视化透明，请转到“ 格式底纹”并将“ 工作表”底纹设置为“ 无”：

![img](../images/Image%20[334].jpg)

将阴影设置为**None后**，可视化在仪表板上使用时将是透明的。在这一点上，您还可以通过选择仪表板上的可视化效果，切换到“ 布局”选项卡并调整背景以使其具有不透明度来实现半透明效果：

![img](../images/Image%20[335].jpg)

*请注意，透明性的使用不会影响数据故事。**背景图像和重叠的可视化效果可能会增加趣味性和趣味性，但也很容易增加干扰和混乱感。*

### 总结 <div id="page_254"></div>

在本章中，我们涵盖了各种各样的技术！我们研究了高级可视化，图纸交换，动态仪表板，一些高级映射技术，包括补充地理数据，自定义区域，空间对象以及使用自定义背景图像。最后，我们考虑了动画和透明度的可能性。

无法涵盖所有可能的可视化类型或技术或解决问题的方法。取而代之的是，我们的想法是证明可以使用一些先进的技术来完成一些工作。本章中的示例建立在前几章的基础上。从这里，您将能够以创新的方式创造性地修改和组合技术，以解决问题并取得令人难以置信的结果！接下来，我们将重点放在如何共享这些结果上。

## 第十二章 分享您的数据故事 <div id="page_255"></div>

在本书中，我们一直专注于Tableau Desktop，并学习了如何以可视化方式和仪表板直观地浏览和交流数据。进行发现，设计有洞察力的可视化并构建出色的仪表板后，就可以共享数据了。

通过Tableau，您可以使用多种方法共享您的工作。在本章中，我们将介绍共享可视化内容和仪表板的各种方法，以及在决定如何共享时应考虑的因素。

具体来说，我们将研究以下主题：

- 展示，打印和导出
- 与Tableau Desktop和Tableau Reader共享
- 与Tableau Server，Tableau Online和Tableau Public共享
- 呈现数据故事的选项
- Tableau Server的其他分发选项

### 展示，打印和导出 <div id="page_256"></div>

Tableau的主要目的是构建丰富的交互式可视化效果和仪表板，以便在屏幕上使用。通常，您希望用户与您的仪表板和可视化进行交互。但是，有多种显示，打印和导出格式的不错选择。

#### 呈现 <div id="page_257"></div>

Tableau为您提供了多种个人呈现数据故事的选项。您可以引导观众浏览单个仪表板或视图的演示，也可以创建整个演示。尽管可以采用多种方式来组织演示文稿，但请考虑以下选项：

- 导出到**PowerPoint**
- **简报模式**

较新的Tableau Desktop和Server版本允许您直接导出到**PowerPoint**。在Tableau Desktop中，选择“ 文件” |“表”。导出为PowerPoint ...。选择位置和文件名后，Tableau将生成PowerPoint文件（.pptx），将Tableau工作簿中的每个选项卡转换为PowerPoint 中的单个幻灯片。每张幻灯片都将包含视图和仪表板在导出时存在的静态图像。

如果您希望获得更动态的演示体验，请考虑使用“ 演示模式”。 **演示模式**可全屏显示所有仪表板和视图。它隐藏了所有 工具栏，窗格和创作对象。 要激活**演示模式**，请 从顶部菜单中选择“ 窗口”，或者按 **F7**或顶部工具栏上的选项。按**F7**或*Esc*键退出**演示模式**。在“ **演示模式”下**，您仍可以使用操作，突出显示，过滤和其他选项与仪表板和视图进行交互。 这丰富了演示文稿，并使您能够即时回答问题。 与引人注目的仪表板和故事一起使用时，“ **演示模式”**提供了一种有效的 方式来亲自引导观众了解数据故事。

*如果**在* **演示模式下***按**Ctrl* *+* *S**保存工作簿**，则**默认情况***下***，该工作簿将在***演示模式***下**打开**。*

#### 列印 <div id="page_258"></div>

通过Tableau，可以打印各个可视化效果，仪表板和故事。从“ 文件”菜单中，可以选择“ 打印”以将工作簿中的当前活动工作表发送到打印机，或者选择“  打印为PDF”选项以导出为PDF。使用这两个选项，您都可以将活动工作表，所选工作表或整个工作簿导出为PDF。要选择多个工作表，请按住*Ctrl*键并单击各个选项卡。

打印时，您还可以选择显示选择。选中此选项后，在视图或仪表板上被交互式选择或突出显示的标记将被打印为选中状态。否则，将打印标记，好像没有选择。在以下仪表盘的地图有针对西部半月痕**美国**选择：

![img](../images/Image%20[336].jpg)

以下是一些打印注意事项，技巧和建议：

- 如果将仪表板设计用于打印，请选择预定义的纸张尺寸作为仪表板的固定尺寸，或使用与相同长宽比匹配的自定义尺寸。
- 使用“ 页面设置”屏幕（可从“ 文件”菜单获得）定义特定的打印选项，例如将包括哪些元素（图例，标题，标题），布局（包括边距和居中）以及视图或仪表板的显示方式缩放以匹配纸张尺寸。该页面设置选项是具体到每一个视图。复制或复制工作表将包括对“ 页面设置”设置的任何更改：

*如果要设计多张纸或要打印的仪表板，请考虑将其中一张作为模板，设置所有所需的打印设置，然后为每张新纸复制它。*

![img](../images/Image%20[337].jpg)

- “ 页面”架子上使用的字段将定义打印时的分页符（对于单张纸，但不适用于仪表板或故事）。“ 页面”架子定义的页面数不一定等于打印的页面数。这是因为“ 页面”架子定义的单个页面可能需要多个打印页面。
- 故事中的每个故事点将被打印在新页面上。
- 打印整个工作簿可能是生成单个PDF文档进行分发的有效方法。每个*可见工作*表将按选项卡的顺序从左到右包含在PDF中。您可以隐藏表格以防止包含在PDF中，也可以重新排列表格以调整生成文档的顺序。还考虑创建带有标题页，目录，页码和注释的图像和文本的仪表板。
- 避免在仪表板上使用滚动条，因为它们将作为滚动条进行打印，并且不会打印可见窗口之外的任何内容。
- 您还可以在工作簿中选择多个工作表（ 单击每个选项卡时按住 *Ctrl*键），然后仅打印选定的工作表。

*如果工作表是一个或多个仪表板或工具提示中使用的视图，或者如果它们是一个或多个故事中使用的仪表板，则可以隐藏工作表。**要隐藏视图，请右键单击底部条或仪表板或故事工作区左侧窗格中的选项卡或缩略图，然后选择“* *隐藏工作表”**。**要显示工作表，请在仪表板或故事工作区的左侧窗格中找到它，右键单击它，然后取消选中“* *隐藏工作表”**。**您也可以右键单击仪表板或故事选项卡，然后隐藏或显示所有使用的工作表。*

*如果您没有看到“* *隐藏工作表”**选项，则表示该工作表未在任何仪表板中使用，然后可以删除。*

#### 出口 <div id="page_259"></div>

通过Tableau，还可以轻松导出视图，仪表板和故事的图像，以用于文档，文档甚至是此类书！图像可导出为.png，.emf，.jpg，或.bmp。您也可以将图像复制到剪贴板以粘贴到其他应用程序中。您也可以将数据导出为交叉表（Excel）.csv或Access数据库（在PC上）。

要复制图像或导出图像或数据，请使用Worksheet，Dashboard或Story的菜单选项。

我们将在短期内详细介绍如何使用Tableau Server，Tableau Online和Tableau Public。现在，让我们考虑一下这些平台上可用的一些导出功能。与Tableau  Server，Online或Public上的视图进行交互时，除非没有必需的权限或Tableau  Server管理员专门禁用了该工具栏，否则您将看到一个工具栏：

![img](../images/Image%20[338].jpg)

工具栏中的“ 下载”选项使您可以下载**图像**，**数据**，**交叉表**（Excel），**PDF**，**PowerPoint**或**Tableau Workbook**。图像以.png格式导出，并以当前状态呈现仪表板。导出.pdf文档将为用户提供许多选项，包括布局，缩放比例以及是否打印当前仪表板，工作簿中的所有工作表还是当前仪表板中的所有工作表。

*导出***数据***或***交叉表***将为仪表板中的活动视图导出，即，如果您单击仪表板上的视图，则该视图将变为活动状态，并且可以**为该特定视图**导出数据或***交叉***表。*

还可以从Tableau Server导出其他选项：

- **Tabcmd** 使您能够通过命令行或脚本以多种格式导出数据，图像或文档 。
- **REST API** 使您能够以编程方式导出各种格式的数据，图像或文档。
- 您可以将扩展名附加到Tableau Server或Online上托管的视图的URL上，以按链接定义的格式查看或下载。例如，附加.pdf URL ，使之类似于 <https://tableauserver/#/views/Dashboard/View.pdf> 在浏览器中将视图呈现为PDF文档。

### 与Tableau Desktop或Tableau Reader的用户共享 <div id="page_260"></div>

您可以与Tableau Desktop和Tableau Reader的其他用户共享工作簿。我们将考虑这些选项，并在以下各节中指出一些差异。

#### 与Tableau Desktop用户共享 <div id="page_261"></div>

与其他Tableau Desktop用户共享工作簿非常简单，但是需要考虑一些事项。

主要考虑因素之一是您将共享打包的工作簿（.twbx）还是未打包的工作簿（.twb）。打包工作簿包含工作簿（单个文件.twb），提取物（.hyper），尚未提取（基于文件的数据源.xls，.xlsx，.txt，.cub，.mdb，等），自定义图像，以及其他各种相关文件。

要与Tableau Desktop用户共享，您可以使用多种选择：

- 您可以通过与具有相同或更新版本的Tableau Desktop的另一个用户共享文件来共享打包（.twbx）或未打包（.twb）的工作簿。

*当保存在更新版本的Tableau Desktop中时，工作簿文件将更新。**您无法打开使用较新版本的Tableau和较旧版本保存的工作簿。**首次打开工作簿时，系统将提示您有关更新，并在尝试保存工作簿时再次提示您。* *您可以选择从“* *文件”* *菜单**中将工作簿导出为以前的版本* *。*

- 如果您共享封装的（.twb）的工作簿，然后其他人使用它必须能够访问任何数据源和任何引用的图片必须是可见在用户*同*在原始文件被引用的目录。例如，如果工作簿使用到.xlsx网络路径上的Excel（）文件的实时连接，并且位于中的仪表板上包含图像C:\Images，则所有用户必须能够访问网络路径上的Excel文件并具有本地C:\Images目录，相同名称的图像文件。

*\\servername\directory\file.xlsx**如果使用此方法**，请考虑**对通用文件**使用UNC（例如* *）路径。*

同样，如果您共享.twbx使用实时连接的打包工作簿（），则使用该工作簿的任何人都必须能够访问实时连接数据源并具有适当的权限。

#### 与Tableau Reader用户共享 <div id="page_262"></div>

**Tableau Reader**是Tableau Software提供的免费应用程序，允许用户与在Tableau Desktop中创建的可视化效果，仪表板和故事进行交互。与Tableau  Desktop不同，它不允许创作可视化或仪表板。但是，最终用户可以使用所有交互性，例如过滤，下钻，操作和突出显示。

*Tableau Reader与许多PDF阅读器相似，后者使您可以阅读和浏览文档，但不允许创作或保存更改。*

要与Tableau Reader的用户共享，请考虑以下事项：

- Reader仅打开打包的（.twbx）工作簿。
- 打包的工作簿可能不包含与服务器或基于云的数据源的实时连接。这些连接必须被提取。

*共享打包的工作簿（**.twbx**）**时，一定要考虑安全性问题**。**由于打包的工作簿通常包含数据，因此必须确保数据不敏感。**即使数据未显示在任何视图或仪表板上，仍可以在打包的摘录（**.hyper**）或基于文件的数据源中进行访问。*

### 与Tableau Server，Tableau Online和Tableau Public的用户共享 <div id="page_263"></div>

**Tableau Server**，**Tableau Online**和**Tableau Public**都是同一概念的变体：在服务器上托管可视化内容和仪表板，并允许用户通过Web浏览器访问它们。

下表提供了产品之间的某些异同，但由于详细信息可能会发生变化，请在做出任何购买决定之前咨询Tableau代表：

| **产品**   | **Tableau服务器**                                            | **Tableau Online**                                           | **Tableau Public**                                           |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 描述       | 一种安装在一台或多台服务器计算机上的服务器应用程序，用于承载使用Tableau Desktop创建的视图和仪表板。 | 由Tableau Software维护的基于云的服务，托管通过Tableau Desktop创建的视图和仪表板。 | 由Tableau Software维护的基于云的服务，该服务承载使用Tableau Desktop或免费的Tableau Public客户端创建的视图和仪表板。 |
| 许可费用   | 是                                                           | 是                                                           | 自由                                                         |
| 管理       | 由购买许可证的个人或组织完全维护，管理和管理。               | 由Tableau Software管理和维护，并具有一些由用户进行项目和用户管理的选项。 | 由Tableau Software管理和维护。                               |
| 创作与出版 | Tableau Desktop的用户可以创作工作簿并将其发布到Tableau Server。通过Web创作，Tableau Server用户可以在Web浏览器中编辑和创建可视化效果和仪表板。 | Tableau Desktop的用户可以创作工作簿并将其发布到Tableau Online。通过Web创作，Tableau Online用户可以在Web浏览器中编辑和创建可视化效果和仪表板。 | Tableau Desktop或免费的Tableau Public客户端的用户可以将工作簿发布到Tableau Public。 |
| 相互作用   | 获得许可的Tableau Server用户可以与托管视图进行交互。视图也可以嵌入Intranet网站，SharePoint和自定义门户中。 | 许可的Tableau Online用户可以与托管视图进行交互。视图也可以嵌入Intranet网站，SharePoint和自定义门户中。 | 一切都是面向公众的。任何人都可以与托管视图进行交互。视图可以嵌入公共网站和博客中。 |
| 局限性     | 没有。                                                       | 必须先提取大多数数据源，然后才能发布工作簿。大多数非基于云的数据源必须在本地机器上，或者使用的Tableau桌面刷新的提取物通过 的**的Tableau在线同步客户端**。 | 必须提取所有数据，每个数据源限制为1500万行。                 |
| 安全       | Tableau Server管理员可以创建站点，项目和用户，并调整每个站点的权限。可以限制对基础数据的访问，并且可以限制工作簿或数据的下载。 | Tableau Server管理员可以创建项目和用户，并调整每个项目的权限。可以限制对基础数据的访问，并且可以限制工作簿或数据的下载。 | 默认情况下，任何人都可以下载和查看数据。但是，作者可能会限制对这些选项的访问。 |
| 善用       | 内部仪表板和分析和/或通过 多租户站点跨部门/部门/客户使用。   | 内部仪表板和分析。与远程用户共享和协作。                     | 使用面向公众的网站或博客上的嵌入式视图共享可视化效果和仪表板。 |

#### 向Tableau Public发布 <div id="page_264"></div>

您可以打开工作簿，然后使用Tableau Desktop或免费的Tableau Public客户端应用程序将其保存 到Tableau Public。请记住以下几点：

- 为了使用Tableau Public，您需要注册一个帐户。
- 有了Tableau Desktop并具有适当的权限，您可以使用“ 服务器”菜单并选择“ Tableau Public”下的选项，在Tableau Public中进行工作簿的保存和打开。
- 使用免费的Tableau Public客户端，您只能在Web上和从Web上保存工作簿。世界上任何人都可以查看您发布的内容。
- 选择“ 管理工作簿 ”选项将打开浏览器，以便您可以登录到Tableau Public帐户并在线管理所有工作簿。
- 保存到Tableau Public的工作簿可以包含任意数量的数据源连接，但必须全部提取它们，并且每个提取的数据行不得超过1500万行。

#### 发布到Tableau Server和Tableau Online <div id="page_265"></div>

发布到Tableau Server和Tableau Online的过程与此类似。要发布到Tableau Server或Tableau Online，请从菜单中选择“ 服务器” |“发布”。发布工作簿。如果您尚未登录服务器，系统将提示您登录：

![img](../images/Image%20[339].jpg)

您必须拥有一个用户帐户，该用户帐户具有一个或多个项目的发布权限。输入Tableau服务器的URL或IP地址或Tableau联机URL，您的用户名和密码。登录后，如果您有权访问多个站点，则会提示您选择一个站点。最后，您将看到“发布”屏幕：

![img](../images/Image%20[340].jpg)

发布时有多个选项：

- 选择您要发布到的项目并命名您的工作簿。如果已经使用与所选项目相同的名称发布了工作簿，则系统将提示您覆盖它。
- 您可以为工作簿提供一个描述，并使用添加标签使搜索和查找工作簿更加容易。
- 您还可以指定要包含在已发布工作簿中的表格 。您检查的所有表都将包括在内；您取消选中的任何内容都不会。
- 您可以 编辑 用户和组 权限 来定义谁有权查看，交互和更改您的工作簿。默认情况下，使用项目设置。
- 您可以编辑数据源的属性。下一节将详细介绍这些选项。
- 您还可以选择将工作表显示为选项卡。选中后，Tableau Server上的用户将能够使用类似于Tableau Desktop底部显示的选项卡在工作表之间导航。如果您打算让操作在视图之间导航，则必须选中此选项。
- 显示选择 表示您希望标记的任何有效选择都保留在发布的视图中。

编辑数据源  为您提供了用于身份验证和计划的选项：

- 对于工作簿中使用的每个数据连接，您可以确定如何验证数据库连接。这些选项将取决于数据源以及Tableau Server的配置。各种选项包括嵌入密码，模拟用户或提示Tableau Server用户输入凭据。
- 您可以为Tableau Server指定运行任何数据提取刷新的计划。

*将在服务器上刷新的所有活动连接或提取的连接必须定义在服务器上有效的连接。**这意味着必须在服务器上安装所有适用的数据库驱动程序。**访问数据库服务器和基于云的数据所需的所有网络，Internet连接和端口必须打开。*

*此外，必须使用Tableau Server可以访问的位置引用工作簿引用的任何外部文件（例如，图像文件和非提取的基于文件的数据源）在发布工作簿时不包括在内。具有安全设置的网络路径，允许Tableau Server进程进行读取访问。*

#### 与Tableau Server进行交互 <div id="page_266"></div>

将工作簿发布到Tableau Server之后，其他用户将能够使用Web浏览器查看可视化效果和仪表板并与之交互。登录到Tableau  Server之后，他们将能够浏览具有适当权限的内容。这些用户将能够使用仪表板中内置的任何功能，例如快速过滤器，参数，操作或向下钻取。一切都呈现为HTML 5，因此用户查看和与视图和仪表板进行交互的唯一要求是具有HTML 5功能的Web浏览器。

*适用于iOS和Android设备**的***Tableau Mobile***应用程序可以增强移动用户的体验。**使用Tableau的设备设计器来定位特定设备的布局。*

在大多数情况下，与Server或Online上的工作簿进行交互与与Tableau Desktop或Reader中的工作簿进行交互非常相似。快速过滤器，参数，操作和工具提示的外观和行为均相似。

您会发现一些附加功能：

- 顶部菜单为您提供了与Tableau Server的管理和导航有关的各种选项。
- 在其下，您会找到一条面包屑痕迹，通知您当前正在查看的工作簿和视图。
- 在其下，您将找到一个包含以下功能的工具栏：

![img](../images/Image%20[341].jpg)

- 撤消和重做使您能够通过交互来前进和后退。
- 还原使您能够撤消所有更改并还原到原始仪表板。
- 刷新将重新加载仪表板并刷新数据。但是，这不会刷新任何数据提取。
- 暂停使您可以根据操作，过滤器选择或参数值更改来暂停刷新仪表板，直到完成所有需要的更改为止。
- 视图 允许您基于选择，过滤器和参数值保存仪表板的当前状态，以便稍后可以快速返回到它。您还可以在此处找到保存的视图。
- 警报允许您设置条件警报。当视图中的标记达到您定义的阈值时，您将通过电子邮件收到警报。
- 订阅 可让您安排仪表盘屏幕截图的定期电子邮件。管理员还可以订阅其他用户。
- 编辑 允许您编辑仪表板。该界面与Tableau Desktop非常相似。Tableau Administrator可以按用户或组启用或禁用Web编辑，还可以控制用于保存已编辑视图的权限。
- 共享 为您提供了共享工作簿的选项。这些选项包括可分发给其他许可用户的URL，以及用于将仪表板嵌入网页的代码。
- 如前所述，“ 下载” 按钮使您可以下载数据，仪表板，或工作簿的图像 。  .pdf
- 注释使您能够通过在视图上进行注释并响应其他用户的注释来与其他Tableau Server用户进行协作。
- 全屏允许您查看仪表板或以全屏模式查看。

#### 使用Tableau Server的其他分发选项 <div id="page_267"></div>

Tableau Server提供了其他几个选项来共享视图，仪表板和数据。除了允许用户登录到Tableau Server之外，您还可以考虑以下选项：

- 仪表板，视图和故事点可以嵌入网站，门户和SharePoint中。单点登录选项可以使您的网站身份验证与Tableau Server无缝集成。
- Tableau Server允许用户订阅视图和仪表板并安排电子邮件传递。该电子邮件将包含该视图的最新图像以及到Tableau Server上的仪表板的链接。
- 该**tabcmd**实用程序提供的Tableau服务器，并可以在其他计算机上安装。该实用程序提供了自动执行Tableau Server的许多功能的功能，包括导出功能，发布以及用户和安全管理。这为自动化交付开辟了很多可能性。
- 该**REST API**允许使用的Tableau服务器编程交互。

### 总结 <div id="page_268"></div>

Tableau是一个了不起的平台，可在您创建有用且有意义的可视化效果和仪表板以了解和传达关键见解时探索，准备和清理数据。我们已经考虑了如何连接数据，编写计算字段和设计仪表板。在本章中，我们考虑了如何与他人共享结果。

您现在已经有了坚实的基础。Tableau的核心是直观，透明且易于使用。随着潜水的深入，简单性变得越来越美丽。当您发现理解数据，解决复杂问题，提出新问题以及在数据中找到新答案的新方法时，Tableau的新技能将帮助您发现隐藏在数据中的新见解。

